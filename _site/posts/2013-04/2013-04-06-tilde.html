<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Tilde, a static blog generator</title>
    <link rel="stylesheet" href="/content/css/style.css" />
    <link rel="stylesheet" href="/content/css/tooltip.css" />
    <link rel="stylesheet" href="/content/css/tomorrow.css" />
    <link rel="stylesheet" href="/content/css/app.css" />
    <script type="text/javascript" src="/content/js/prettify.js"></script>
    <script type="text/javascript" src="/content/js/tooltip.js"></script>
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
    <script src="http://connect.facebook.net/en_US/all.js#xfbml=1"></script>
  </head>
  <body onload="prettyPrint()">
    <div id="container">
      <header><inner><h1><a style="padding-right: 50px;" href="/">&laquo;</a>Tilde, a static blog generator</h1></inner></header>
      <content>
<p></p>

<p><img src="/content/images/tilde4.png" alt="tilde" /></p>

<h2>Huh?</h2>

<p>Tilde uses <a href="https://github.com/Antaris/RazorEngine">Razor</a> for templating, <a href="https://github.com/tpetricek/FSharp.Formatting">FSharp.Formatting</a> for <a href="http://daringfireball.net/projects/markdown/">Markdown</a> and F# highlighting and <a href="https://code.google.com/p/google-code-prettify/">Prettify</a> for highlighting other languages. The directory layout is quite similar to <a href="http://jekyllrb.com/">Jekyll</a> check out my <em>(quite hacked together!)</em> blog source <a href="https://github.com/aktowns/blog.ashleytowns.id.au">here</a>.</p>

<p>Posts are written in Markdown and are post-processed as Razor templates. Heres an example of the top of this page</p>

<pre class='prettyprint linenums:1 language-markdown'>@{
  Layout = "Post";
  Title = "Tilde, a static blog generator";
  Description = "A Static blog generator using Razor and FSharp.Formatting";
  Tags = new string[] {"F#", "Blogging", "FSharp.Formatting", "Razor"};
  Meta["CustomEntry"] = "Woo";
}

![tilde](/content/images/tilde2.png)
## Huh?

Tilde uses [Razor](https://github.com/Antaris/RazorEngine) for templating, [FSharp.Formatting](https://github.com/tpetricek/FSharp.Formatting)</pre>

<p>All the usual Markdown syntax should work, aswell as anything supported by <a href="https://github.com/Antaris/RazorEngine">RazorEngine</a> for example typing <code>@DateTime.Now</code> would produce <code>7/04/2013 8:57:48 PM</code> this allows for some pretty awesome compile time hackery for example the following chunk of code written anywhere in the blog post:</p>

<pre class='prettyprint linenums:1 language-csharp'>@{
  var client = new System.Net.WebClient();
  var tracks = client.DownloadString("http://ws.audioscrobbler.com/1.0/user/ike_x/recenttracks.rss");
  var rgx = new System.Text.RegularExpressions.Regex("&lt;title&gt;(.*?)&lt;/title&gt;");
  @rgx.Matches(tracks)[1].Groups[1];
}</pre>

<p>deadmau5 â€“ Tau V1 (Original Mix)</p>

<p>Should print out the last song I was listening to when this blog was last compiled. (Hopefully above!).</p>

<p>Unfortunately at the moment the markdown will be interpreted inside <code>@{ }</code> so anything that would be interpreted as markdown will corrupt the code. Also since this evaluated every re-compile of the site depending on what you have this could increase page compile times rapidly.</p>

<h2>FSharp.Formatting and Syntax highlighting</h2>

<p>FSharp.Formatting, allows us to export F# snippets with syntax highlighting and tooltips, try <strong>hovering your mouse over the code below</strong>.</p>

<pre class="fssnip">
<span class="l"> 1: </span><span class="c">/// Fibonacci Number formula</span>
<span class="l"> 2: </span><span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919921', 1)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919921', 1)" class="i">fib</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919922', 2)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919922', 2)" class="i">n</span> <span class="o">=</span>
<span class="l"> 3: </span>    <span class="k">match</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919922', 3)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919922', 3)" class="i">n</span> <span class="k">with</span>
<span class="l"> 4: </span>    | <span class="n">0</span> | <span class="n">1</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919922', 4)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919922', 4)" class="i">n</span>
<span class="l"> 5: </span>    | _ <span class="k">-&gt;</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919921', 5)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919921', 5)" class="i">fib</span> (<span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919922', 6)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919922', 6)" class="i">n</span> <span class="o">-</span> <span class="n">1</span>) <span class="o">+</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919921', 7)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919921', 7)" class="i">fib</span> (<span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919922', 8)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919922', 8)" class="i">n</span> <span class="o">-</span> <span class="n">2</span>)
<span class="l"> 6: </span>
<span class="l"> 7: </span><span class="c">/// Another approach - a lazy infinite sequence of Fibonacci numbers</span>
<span class="l"> 8: </span><span class="k">let</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919923', 9)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919923', 9)" class="i">fibSeq</span> <span class="o">=</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919924', 10)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919924', 10)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919925', 11)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919925', 11)" class="i">unfold</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919926', 12)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919926', 12)" class="i">a</span>,<span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919927', 13)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919927', 13)" class="i">b</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919928', 14)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919928', 14)" class="i">Some</span>(<span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919926', 15)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919926', 15)" class="i">a</span><span class="o">+</span><span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919927', 16)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919927', 16)" class="i">b</span>, (<span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919927', 17)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919927', 17)" class="i">b</span>, <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919926', 18)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919926', 18)" class="i">a</span><span class="o">+</span><span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919927', 19)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919927', 19)" class="i">b</span>))) (<span class="n">0</span>,<span class="n">1</span>)
<span class="l"> 9: </span>
<span class="l">10: </span><span class="c">// Print even fibs</span>
<span class="l">11: </span>[<span class="n">1</span> <span class="o">..</span> <span class="n">10</span>]
<span class="l">12: </span><span class="o">|&gt;</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919929', 20)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919929', 20)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-97375239199210', 21)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-97375239199210', 21)" class="i">map</span>     <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919921', 22)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919921', 22)" class="i">fib</span>
<span class="l">13: </span><span class="o">|&gt;</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919929', 23)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919929', 23)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-97375239199211', 24)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-97375239199211', 24)" class="i">filter</span>  (<span class="k">fun</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919922', 25)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919922', 25)" class="i">n</span> <span class="k">-&gt;</span> (<span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919922', 26)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919922', 26)" class="i">n</span> <span class="o">%</span> <span class="n">2</span>) <span class="o">=</span> <span class="n">0</span>)
<span class="l">14: </span><span class="o">|&gt;</span> <span class="i">printList</span>
<span class="l">15: </span>
<span class="l">16: </span><span class="c">// Same thing, using a list expression</span>
<span class="l">17: </span>[ <span class="k">for</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-97375239199212', 27)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-97375239199212', 27)" class="i">i</span> <span class="k">in</span> <span class="n">1..</span><span class="n">10</span> <span class="k">do</span>
<span class="l">18: </span>    <span class="k">let</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-97375239199213', 28)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-97375239199213', 28)" class="i">r</span> <span class="o">=</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-9737523919921', 29)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-9737523919921', 29)" class="i">fib</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-97375239199212', 30)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-97375239199212', 30)" class="i">i</span>
<span class="l">19: </span>    <span class="k">if</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-97375239199213', 31)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-97375239199213', 31)" class="i">r</span> <span class="o">%</span> <span class="n">2</span> <span class="o">=</span> <span class="n">0</span> <span class="k">then</span> <span class="k">yield</span> <span onmouseout="hideTip(event, '02e8e1bb-5988-492d-97b6-97375239199213', 32)" onmouseover="showTip(event, '02e8e1bb-5988-492d-97b6-97375239199213', 32)" class="i">r</span> ]
<span class="l">20: </span><span class="o">|&gt;</span> <span class="i">printList</span>
<span class="l">21: </span><span class="c">// taken from: http://en.wikipedia.org/wiki/F_Sharp_(programming_language)#Examples</span></pre>
<div class="tip" id="02e8e1bb-5988-492d-97b6-9737523919921">val fib : n:int -&gt; int<br /><br />Full name: Example.fib<br /><em><br /><br />&#160;Fibonacci Number formula</em></div>
<div class="tip" id="02e8e1bb-5988-492d-97b6-9737523919922">val n : int</div>
<div class="tip" id="02e8e1bb-5988-492d-97b6-9737523919923">val fibSeq : seq&lt;int&gt;<br /><br />Full name: Example.fibSeq<br /><em><br /><br />&#160;Another approach - a lazy infinite sequence of Fibonacci numbers</em></div>
<div class="tip" id="02e8e1bb-5988-492d-97b6-9737523919924">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="02e8e1bb-5988-492d-97b6-9737523919925">val unfold : generator:(&#39;State -&gt; (&#39;T * &#39;State) option) -&gt; state:&#39;State -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.unfold</div>
<div class="tip" id="02e8e1bb-5988-492d-97b6-9737523919926">val a : int</div>
<div class="tip" id="02e8e1bb-5988-492d-97b6-9737523919927">val b : int</div>
<div class="tip" id="02e8e1bb-5988-492d-97b6-9737523919928">union case Option.Some: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="02e8e1bb-5988-492d-97b6-9737523919929">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of &#39;T * &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="02e8e1bb-5988-492d-97b6-97375239199210">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list<br /><br />Full name: Microsoft.FSharp.Collections.List.map</div>
<div class="tip" id="02e8e1bb-5988-492d-97b6-97375239199211">val filter : predicate:(&#39;T -&gt; bool) -&gt; list:&#39;T list -&gt; &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List.filter</div>
<div class="tip" id="02e8e1bb-5988-492d-97b6-97375239199212">val i : int</div>
<div class="tip" id="02e8e1bb-5988-492d-97b6-97375239199213">val r : int</div>


<p>F# Blocks begin with the normal markdown 4+ spaces in then a name field followed by the code, for example the code above.</p>

<pre class='prettyprint  language-html'>[name=example.fsx]
/// Fibonacci Number formula
let rec fib n =
    match n with
    | 0 | 1 -&gt; n
    | _ -&gt; fib (n - 1) + fib (n - 2)</pre>

<p>Unfortunately :( there is no tooltips for other languages.</p>

<pre class='prettyprint linenums:1 language-ruby'>require "sinatra"

class Example &lt; Sinatra::Base
  get "/" do  
    "Why hello there!"
  end
end</pre>

<p>Which was created  with the following</p>

<pre class='prettyprint  language-html'>[lang=ruby]
require "sinatra"

class Example &lt; Sinatra::Base
  get "/" do  
    "Why hello there!"
  end
end</pre>

<h2>Site, Posts, Templating, Partials</h2>

<p>Tilde uses templates from the _layouts folder, for example my blog has <a href="">Post.cshtml</a> which references <a href="">Default.cshtml</a> and includes <a href="">GA.cshtml</a> as a partial so the render chain looks something like this:</p>

<pre class='prettyprint  language-none'>[Markdown Post] -&gt; (Post.cshtml -&gt; GA.cshtml) -&gt; Default.cshtml</pre>

<p>Templates follow the same general Razor rules, and contain a <code>@RenderBody</code> to fill out the contents. @RenderPart is used to render partials, for my blog I have disqus and google analytics being included this way.</p>

<p>Variables are scoped <strong>per file</strong> for example a variable defined here cannot be seen by the template i specified at the top. <strong>Except for</strong> the <a href="http://affirmaconsulting.wordpress.com/2011/02/02/asp-net-mvc-dont-fear-the-viewbag/">ViewBag</a> and the following <code>Title</code>, <code>Description</code>, <code>Tags</code>, <code>Meta</code> which are available from the template and from other pages under <code>Site.Posts</code>.</p>

<p><code>Meta</code> is a dictionary which can include any custom variables you want the template to be able to access.</p>

<p><code>Site</code> is available to templates and at the moment contains just <code>Posts</code> which is an array of all the rendered blog posts and the properties above. <code>Site</code> can be accessed from blog posts but depending on the current compile order can be unpredictable. An example of a page using this is <a href="">index.cshtml</a> from this blog.</p>

<p>Theres probably a lot more to write, but my head is killing me. This was hacked together over a friday night i'd imagine its filled with bugs and other nice things. Its available  <a href="https://github.com/aktowns/tilde">here at github</a>. I'm using it to generate this blog!</p>

<br /><br />
<center>
<g:plusone></g:plusone><a href="https://twitter.com/share" class="twitter-share-button" data-via="ikeeex" data-size="large">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<fb:like send="false" layout="button_count" width="200" show_faces="false"></fb:like>
</center>
<br />
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'randomblogs'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</content>
      <footer>
        <inner>
          t:<a target="_blank" href="http://www.twitter.com/ikeeex">@ikeeex</a>
          g:<a target="_blank" href="http://www.github.com/aktowns">aktowns</a>
          <br />
          <br />
        </inner>
      </footer>
    </div>
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-36036802-1']);
  _gaq.push(['_setDomainName', 'ashleytowns.id.au']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </body>
</html>
